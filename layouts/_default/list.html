{{ define "main" }}
<div class="content-area">
    <main class="site-main container">
        <div class="post-feed">
            <div class="grid-item grid-sizer"></div>
            {{ if or .IsHome .Site.Params.paginate_categories }}
	{{ $paginator := .Paginate (where .Data.Pages.ByDate.Reverse "Type" "post") }}
	{{ $list := $paginator.Pages }}
	{{ range $list  }}
		{{ partial "blog_loop.html" . }}
	{{ end }}
{{ else }}
	{{ $list := where .Data.Pages.ByDate.Reverse "Type" "post" }}
	{{ range $list  }}
		{{ partial "blog_loop.html" . }}
	{{ end }}
{{ end }}
        </div>
        {{ if .IsHome }}
	{{ if .Site.Params.paginate_home }}
		{{ partial "pagination" . }}
	{{ end }}
{{ else if .Site.Params.paginate_categories }}
	{{ partial "pagination" . }}
{{ end }}
    </main>
</div>
{{ end }}